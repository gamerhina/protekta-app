function re(e,n,c,L=y=>y){return e*L(.5-n*(.5-c))}function ue(e){return[-e[0],-e[1]]}function T(e,n){return[e[0]+n[0],e[1]+n[1]]}function S(e,n){return[e[0]-n[0],e[1]-n[1]]}function M(e,n){return[e[0]*n,e[1]*n]}function ce(e,n){return[e[0]/n,e[1]/n]}function X(e){return[e[1],-e[0]]}function ie(e,n){return e[0]*n[0]+e[1]*n[1]}function he(e,n){return e[0]===n[0]&&e[1]===n[1]}function de(e){return Math.hypot(e[0],e[1])}function pe(e){return e[0]*e[0]+e[1]*e[1]}function oe(e,n){return pe(S(e,n))}function ae(e){return ce(e,de(e))}function fe(e,n){return Math.hypot(e[1]-n[1],e[0]-n[0])}function Z(e,n,c){let L=Math.sin(c),y=Math.cos(c),D=e[0]-n[0],p=e[1]-n[1],i=D*y-p*L,r=D*L+p*y;return[i+n[0],r+n[1]]}function ee(e,n,c){return T(e,M(S(n,e),c))}function se(e,n,c){return T(e,M(n,c))}var{min:U,PI:ge}=Math,le=.275,j=ge+1e-4;function we(e,n={}){let{size:c=16,smoothing:L=.5,thinning:y=.5,simulatePressure:D=!0,easing:p=o=>o,start:i={},end:r={},last:A=!1}=n,{cap:_=!0,easing:P=o=>o*(2-o)}=i,{cap:E=!0,easing:d=o=>--o*o*o+1}=r;if(e.length===0||c<=0)return[];let l=e[e.length-1].runningLength,g=i.taper===!1?0:i.taper===!0?Math.max(c,l):i.taper,O=r.taper===!1?0:r.taper===!0?Math.max(c,l):r.taper,x=Math.pow(c*L,2),z=[],R=[],k=e.slice(0,10).reduce((o,f)=>{let u=f.pressure;if(D){let h=U(1,f.distance/c),q=U(1,1-h);u=U(1,o+(q-o)*(h*le))}return(o+u)/2},e[0].pressure),w=re(c,y,e[e.length-1].pressure,p),I,Y=e[0].vector,N=e[0].point,t=N,s=N,a=t,m=!1;for(let o=0;o<e.length;o++){let{pressure:f}=e[o],{point:u,vector:h,distance:q,runningLength:$}=e[o];if(o<e.length-1&&l-$<3)continue;if(y){if(D){let C=U(1,q/c),V=U(1,1-C);f=U(1,k+(V-k)*(C*le))}w=re(c,y,f,p)}else w=c/2;I===void 0&&(I=w);let K=$<g?P($/g):1,F=l-$<O?d((l-$)/O):1;w=Math.max(.01,w*Math.min(K,F));let W=(o<e.length-1?e[o+1]:e[o]).vector,G=o<e.length-1?ie(h,W):1,J=ie(h,Y)<0&&!m,te=G!==null&&G<0;if(J||te){let C=M(X(Y),w);for(let V=1/13,Q=0;Q<=1;Q+=V)s=Z(S(u,C),u,j*Q),z.push(s),a=Z(T(u,C),u,j*-Q),R.push(a);N=s,t=a,te&&(m=!0);continue}if(m=!1,o===e.length-1){let C=M(X(h),w);z.push(S(u,C)),R.push(T(u,C));continue}let ne=M(X(ee(W,h,G)),w);s=S(u,ne),(o<=1||oe(N,s)>x)&&(z.push(s),N=s),a=T(u,ne),(o<=1||oe(t,a)>x)&&(R.push(a),t=a),k=f,Y=h}let v=e[0].point.slice(0,2),b=e.length>1?e[e.length-1].point.slice(0,2):T(e[0].point,[1,1]),B=[],H=[];if(e.length===1){if(!(g||O)||A){let o=se(v,ae(X(S(v,b))),-(I||w)),f=[];for(let u=1/13,h=u;h<=1;h+=u)f.push(Z(o,v,j*2*h));return f}}else{if(!(g||O&&e.length===1))if(_)for(let f=1/13,u=f;u<=1;u+=f){let h=Z(R[0],v,j*u);B.push(h)}else{let f=S(z[0],R[0]),u=M(f,.5),h=M(f,.51);B.push(S(v,u),S(v,h),T(v,h),T(v,u))}let o=X(ue(e[e.length-1].vector));if(O||g&&e.length===1)H.push(b);else if(E){let f=se(b,o,w);for(let u=1/29,h=u;h<1;h+=u)H.push(Z(f,b,j*3*h))}else H.push(T(b,M(o,w)),T(b,M(o,w*.99)),S(b,M(o,w*.99)),S(b,M(o,w)))}return z.concat(H,R.reverse(),B)}function me(e,n={}){var c;let{streamline:L=.5,size:y=16,last:D=!1}=n;if(e.length===0)return[];let p=.15+(1-L)*.85,i=Array.isArray(e[0])?e:e.map(({x:d,y:l,pressure:g=.5})=>[d,l,g]);if(i.length===2){let d=i[1];i=i.slice(0,-1);for(let l=1;l<5;l++)i.push(ee(i[0],d,l/4))}i.length===1&&(i=[...i,[...T(i[0],[1,1]),...i[0].slice(2)]]);let r=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],A=!1,_=0,P=r[0],E=i.length-1;for(let d=1;d<i.length;d++){let l=D&&d===E?i[d].slice(0,2):ee(P.point,i[d],p);if(he(P.point,l))continue;let g=fe(l,P.point);if(_+=g,d<E&&!A){if(_<y)continue;A=!0}P={point:l,pressure:i[d][2]>=0?i[d][2]:.5,vector:ae(S(P.point,l)),distance:g,runningLength:_},r.push(P)}return r[0].vector=((c=r[1])==null?void 0:c.vector)||[0,0],r}function ye(e,n={}){return we(me(e,n),n)}if(typeof window<"u"&&!window.SIGNATURE_PAD_LOADED){let D=function(p){const i=document.querySelector(`.signature-pad-wrapper-${p}`);if(!i)return;const r=i.querySelector(`.signature-canvas-${p}`),A=i.querySelector(`.signature-input-${p}`),_=i.querySelector(`.toggle-signature-btn-${p}`),P=i.querySelector(`.clear-signature-btn-${p}`),E=i.querySelector(`.signature-pad-container-${p}`);if(i.dataset.signatureInitialized==="true")return;if(!r||!A||!_||!P||!E){console.warn(`SignaturePad: Missing elements for type ${p}`,{canvas:r,input:A,toggleBtn:_,clearBtn:P,container:E});return}console.log(`SignaturePad: Initializing type ${p}`),i.dataset.signatureInitialized="true",k(r);const d=r.getContext("2d"),l=[];let g=!1;_.addEventListener("click",t=>{t.preventDefault(),setTimeout(O,10)});function O(){E.classList.contains("hidden")||E.style.display==="none"?(E.classList.remove("hidden"),E.style.display="block",setTimeout(()=>{k(r),I(d,l)},50)):(E.classList.add("hidden"),E.style.display="none")}P.addEventListener("click",()=>{l.length=0,d.clearRect(0,0,r.width,r.height),A.value=""});const x=()=>{k(r),I(d,l)};window.addEventListener("resize",x),r.addEventListener("pointerdown",t=>{if(t.pointerType==="touch")return;t.preventDefault(),g=!0,r.setPointerCapture?.(t.pointerId);const s=[];l.push(s),w(t,r,s),I(d,l)}),r.addEventListener("pointermove",t=>{if(t.pointerType==="touch"||!g)return;t.preventDefault();const s=l[l.length-1];w(t,r,s),I(d,l)});const z=t=>{t.pointerType!=="touch"&&g&&(t.preventDefault(),g=!1,r.releasePointerCapture?.(t.pointerId),N(r,A,l))};r.addEventListener("pointerup",z),r.addEventListener("pointerleave",z),r.addEventListener("pointercancel",z),r.addEventListener("touchstart",t=>{if(t.preventDefault(),t.touches.length>1)return;g=!0;const s=[];l.push(s);const a=t.touches[0];w(a,r,s),I(d,l)},{passive:!1}),r.addEventListener("touchmove",t=>{if(t.preventDefault(),!g)return;const s=t.touches[0],a=l[l.length-1];w(s,r,a),I(d,l)},{passive:!1});const R=t=>{t.preventDefault(),g&&(g=!1,N(r,A,l))};r.addEventListener("touchend",R),r.addEventListener("touchcancel",R);function k(t){const s=t.clientWidth||t.parentElement?.clientWidth||t.width,a=t.clientHeight||t.parentElement?.clientHeight||t.height;s&&a&&(t.width=s,t.height=a),t.style.touchAction="none"}function w(t,s,a){const m=s.getBoundingClientRect(),v=s.width/m.width,b=s.height/m.height,B=t.clientX,H=t.clientY;let o=.5;typeof t.pressure=="number"&&t.pressure>0?o=t.pressure:typeof t.force=="number"&&t.force>0&&(o=t.force);const f=(B-m.left)*v,u=(H-m.top)*b,h=Date.now(),q=a[a.length-1];if(q){const $=f-q[0],K=u-q[1],F=Math.hypot($,K);if(F>c){const W=Math.floor(F/c);for(let G=1;G<=W;G+=1){const J=G/W;a.push([q[0]+$*J,q[1]+K*J,o,h])}return}}a.push([f,u,o,h])}function I(t,s){t.clearRect(0,0,t.canvas.width,t.canvas.height),t.fillStyle="#0f172a",s.forEach(a=>{Y(t,a)})}function Y(t,s){if(!s.length)return;if(s.length===1){const[m,v]=s[0];t.beginPath(),t.arc(m,v,1,0,Math.PI*2),t.fill();return}const a=ye(s,n);if(a.length){t.beginPath(),t.moveTo(a[0][0],a[0][1]);for(let m=1;m<a.length;m+=1)t.lineTo(a[m][0],a[m][1]);t.closePath(),t.fill()}}function N(t,s,a){if(!a.length){s.value="";return}s.value=t.toDataURL("image/png")}};var Ee=D;window.SIGNATURE_PAD_LOADED=!0;const e=["p1","p2","pembahas","mahasiswa"],n={size:4.5,thinning:.8,smoothing:.92,streamline:.88},c=3;window.openPdfUrl=p=>{p&&window.open(p,"_blank","noopener")};const L=()=>{document.querySelectorAll('[class*="signature-pad-wrapper-"]').forEach(i=>{const r=i.className.match(/signature-pad-wrapper-([a-zA-Z0-9_-]+)/);r&&r[1]&&D(r[1])}),e.forEach(i=>{D(i)})},y=()=>{L()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("SignaturePad: DOMContentLoaded"),y()}):(console.log("SignaturePad: Already loaded"),y()),window.addEventListener("page-loaded",()=>{console.log("SignaturePad: page-loaded event"),L()}),window.addEventListener("app:init",()=>{console.log("SignaturePad: app:init event"),L()})}
